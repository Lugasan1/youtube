<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Feed | Millionaire Advertisement</title>

	<link rel="icon" type="image/x-icon" href="../assets/img/favicon.png">
	<link rel="stylesheet" type="text/css" href="../assets/css/feed.css">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

	<script src="https://kit.fontawesome.com/2580b42319.js" crossorigin="anonymous"></script>

	<script type="text/javascript" src="../videos.js"></script>

</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-11 mx-auto">

				<div class="topbar">
					<img class="topbar__logo" src="../assets/img/logo.png">
					<div class="amount__box">
						<label class="amount align__middle">
							<span id="amount">0,00</span>
						</label>
					</div>
				</div>

				<div class="divider"></div>

				<div id="video__box">
					<iframe src="" id="videoFrame" frameborder="0" allowfullscreen></iframe>
				</div>

				<div class="divider"></div>

				<div class="video__info">
					<div class="video__owner">
						<div style="background: url('');" 
							 class="owner__pic" id="ownerPic">
						</div>
						<div class="owner__text">
							<p id="videoTitle" class="video__title"></p>
							<p id="ownerName" class="owner__name">by <span id="ownerName"></span>!</p>
						</div>
					</div>
					<div class="video__priece">
						<label id="video__priece">+$<span id="prieceVideo">0,0</span></label>
					</div>
				</div>

				<div class="answer__box">

					<div class="answer__item">
						<label class="answer">Did the ad pique your interest? Why?</label>
						<input id="answer1" class="answer" type="text">
					</div>

					<div class="answer__item">
						<label class="answer">Do you think the ad was relevant to you? Why?</label>
						<input id="answer2" class="answer" type="text">
					</div>

					<div class="answer__item">
						<label class="answer">What was the most memorable part of the ad for you?</label>
						<input id="answer3" class="answer" type="text">
					</div>

					<div class="answer__item">
						<label class="answer">Did the advertisement in any way influence your opinion about the product or service advertised? If yes, in what way?</label>
						<input id="answer4" class="answer" type="text">
					</div>

					<div class="answer__item">
						<label class="answer">Would you recommend the product or service advertised based on this ad? Why?</label>
						<input id="answer5" class="answer" type="text">
					</div>

					<div class="answer__stars">
						<label class="answer">How many stars would you give for this ad?</label>
						<div id="starBox" class="stars">
							<i onclick="setStar(1)" class="fa-regular fa-star"></i>
							<i onclick="setStar(2)" class="fa-regular fa-star"></i>
							<i onclick="setStar(3)" class="fa-regular fa-star"></i>
							<i onclick="setStar(4)" class="fa-regular fa-star"></i>
							<i onclick="setStar(5)" class="fa-regular fa-star"></i>
						</div>
					</div>

					<button onclick="answerSend()" class="answer__button">Send</button>

				</div>

			</div>
		</div>
	</div>
	<div id="footer">
		<div class="footer__box">
			
			<div onclick="location.reload()" class="footer__item">
				<svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
				  <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"></path>
				</svg>
				<label>Home</label>
			</div>

			<div onclick="window.location.href='../account'" class="footer__item">
				<svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
				  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"></path>
				</svg>
				<label>My Account</label>
			</div>

		</div>
	</div>
</body>

<script type="text/javascript">

	var indiceAleatorio = Math.floor(Math.random() * videos.length);
	var video = videos[indiceAleatorio];

	var videoIframe = document.getElementById('videoFrame');
	var videoTitle = document.getElementById('videoTitle');
	var ownerName = document.getElementById('ownerName');
	var ownerPic = document.getElementById('ownerPic');
	var prieceVideo = document.getElementById('prieceVideo');

	videoIframe.src = video.video;
	videoTitle.innerHTML = video.titulo;
	ownerName.innerHTML = video.marca;
	ownerPic.style.background = 'url("' + video.logo + '")';
	prieceVideo.innerHTML = video.valor;

	// ++++++++++++++++++++++++++++++
	
	if (localStorage.getItem("amount") === null) { 
		localStorage.setItem("amount", "0"); }

	var amount = localStorage.getItem("amount");
	var amountLabel = document.getElementById('amount');

	amountLabel.innerHTML = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);

	// ++++++++++++++++++++++++++++++
	
	var starBox = document.getElementById('starBox');

	starBox.innerHTML = '<i onclick="setStar(1)" class="fa-regular fa-star"></i><i onclick="setStar(2)" class="fa-regular fa-star"></i><i onclick="setStar(3)" class="fa-regular fa-star"></i><i onclick="setStar(4)" class="fa-regular fa-star"></i><i onclick="setStar(5)" class="fa-regular fa-star"></i>';

	function setStar(qntd) {
		if (qntd === 1) {
			starBox.innerHTML = '<i onclick="setStar(1)" class="fa-solid fa-star"></i><i onclick="setStar(2)" class="fa-regular fa-star"></i><i onclick="setStar(3)" class="fa-regular fa-star"></i><i onclick="setStar(4)" class="fa-regular fa-star"></i><i onclick="setStar(5)" class="fa-regular fa-star"></i>';
		} else if (qntd === 2) {
			starBox.innerHTML = '<i onclick="setStar(1)" class="fa-solid fa-star"></i><i onclick="setStar(2)" class="fa-solid fa-star"></i><i onclick="setStar(3)" class="fa-regular fa-star"></i><i onclick="setStar(4)" class="fa-regular fa-star"></i><i onclick="setStar(5)" class="fa-regular fa-star"></i>';

		} else if (qntd === 3) {
			starBox.innerHTML = '<i onclick="setStar(1)" class="fa-solid fa-star"></i><i onclick="setStar(2)" class="fa-solid fa-star"></i><i onclick="setStar(3)" class="fa-solid fa-star"></i><i onclick="setStar(4)" class="fa-regular fa-star"></i><i onclick="setStar(5)" class="fa-regular fa-star"></i>';

		} else if (qntd === 4) {
			starBox.innerHTML = '<i onclick="setStar(1)" class="fa-solid fa-star"></i><i onclick="setStar(2)" class="fa-solid fa-star"></i><i onclick="setStar(3)" class="fa-solid fa-star"></i><i onclick="setStar(4)" class="fa-solid fa-star"></i><i onclick="setStar(5)" class="fa-regular fa-star"></i>';

		} else if (qntd === 5) {
			starBox.innerHTML = '<i onclick="setStar(1)" class="fa-solid fa-star"></i><i onclick="setStar(2)" class="fa-solid fa-star"></i><i onclick="setStar(3)" class="fa-solid fa-star"></i><i onclick="setStar(4)" class="fa-solid fa-star"></i><i onclick="setStar(5)" class="fa-solid fa-star"></i>';

		}
	}

	function answerSend() {
	  let inputs = [
	    document.getElementById('answer1'),
	    document.getElementById('answer2'),
	    document.getElementById('answer3'),
	    document.getElementById('answer4'),
	    document.getElementById('answer5')
	  ];

	  let allFilled = true;

	  inputs.forEach(function(input) {
	    if (input.value.trim() === "") {
	      input.style.borderColor = '#ff0000';
	      allFilled = false;
	    } else {
	      input.style.borderColor = '';
	    }
	  });

	  if (allFilled) {

		amount = parseFloat(amount) + parseFloat(video.valor);
		localStorage.setItem("amount", amount);
		amountLabel.innerHTML = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);

		console.log(amount);

		location.reload();

	  }

	}


</script>

</html>